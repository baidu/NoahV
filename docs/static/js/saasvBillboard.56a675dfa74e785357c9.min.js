webpackJsonp([17],{2082:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(2207),n=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var o=a(2372),s=a(5);var m=function(e){a(2371)},l=Object(s.a)(n.a,o.a,o.b,!1,m,null,null);t.default=l.exports},2134:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a(2136),a(2137),a(2138),a(2139),a(2140),a(2141),a(2142),a(2143),a(2144),a(2145),a(2146),t.default={billboard:{conf:"/mock/billboard",data:"/mock/dataBillboard"},circle:{conf:"/mock/circle",data:"/mock/circleData"},trend:{conf:"/mock/mdtrend",data:"/mock/dataTrend"},report:{conf:"/mock/mdreport",data:"/mock/dataReport",treeData:"/mock/dataTreeReport"},eventRiver:{conf:"/mock/eventRiver",data:"/mock/eventlist"}}},2136:function(e,t,a){a(52).mock("/mock/billboard","post",function(){return{data:{configure:'{"title":"面板配置path","data":[{"namespace":["forDemoNamespace1"],"metric":"#{metric1}/#{metric2}","statistics":"avg","name":"name3","unit":"%","decimals":4},{"namespace":["forDemoNamespace2"],"metric":"#{metric3}","statistics":"avg","name":"name4","unit":"%","decimals":4}],"link":"http://www.baidu.com","timeType":"relative","time":"before(2h)"}',title:"面板配置path"},success:!0}})},2137:function(e,t,a){a(52).mock("/mock/dataBillboard","post",function(){return{data:[{name:"name1",value:12306,warning:!0},{name:"name2",value:91},{name:"name3",value:99.99875}],success:!0}})},2138:function(e,t,a){a(52).mock("/mock/circle","post",function(){return{data:{configure:'{"title":"仪表图配置path","data":[{"namespace":["forDemoNamespace"],"metric":"#{metric1}/#{metric2}","statistics":"avg"}],"style":{"decimals":4,"unit":"%","max":100,"min":0,"threshold":[[90,99,"yellow"],[0,90,"red"],[99,99.99,"green"]]},"link":"http://www.baidu.com","timeType":"fixed","time":"before(2h)"}',title:"仪表图配置path"},success:!0}})},2139:function(e,t,a){a(52).mock("/mock/circleData","post",function(){return{data:99.999999,success:!0}})},2140:function(e,t,a){a(52).mock("/mock/mdtrend","post",function(){return{data:{configure:'{"title":"趋势图标题Conf","data":[{"namespace":["forDemoNamespace1","forDemoNamespace2"],"product":"noahEE","monitoringType":"instance","metric":"#{metric1}/#{metric2}","statistics":"avg","period":5,"name":"name1","contrast":["1d","1w"]},{"namespace":["forDemoNamespace3","forDemoNamespace4"],"product":"noahEE","monitoringType":"instance","metric":"#{metric3}","statistics":"avg","period":5,"name":"name2","contrast":["1d"]}],"style":{"displayType":"line","unit":"个","nullPointMode":"zero","threshold":99},"link":"http://www.baidu.com","timeType":"relative","time":"before(2h)"}'},success:!0}})},2141:function(e,t,a){a(52).mock("/mock/dataTrend","post",function(){return{data:[{name:"read",data:[[150122016e4,30],[15012206e5,100],[150122068e4,300]]},{name:"write",data:[[150122016e4,10],[15012206e5,200],[150122068e4,100]]},{name:"black",data:[[150122016e4,70],[15012206e5,230],[150122068e4,200]]}],success:!0}})},2142:function(e,t,a){a(52).mock("/mock/mdreport","post",function(){return{data:{title:"资源报表conf",configure:'{"title":"资源报表conf","data":{"namespace":["forDemoNamespace"],"comments":"说明","columns":[{"source":"origin","metric":"#{metric1}-#{metric2}","statistics":"sum","group":"","header":"数据1","alias":"alias3","unit":"%","decimals":3,"threshold":[[0,90,"#ff0000"],[90,95,"#0000ff"],[99,100,"green"]],"timeType":"relative","time":"before(2h)","total":"sum","use":true,"offset":"-1d"},{"source":"origin","metric":"#{metric1}-#{metric2}","statistics":"sum","group":"综合数据","header":"数据1","alias":"alias1","unit":"%","decimals":3,"threshold":[[0,90,"#ff0000"],[90,95,"#0000ff"],[99,100,"green"]],"timeType":"relative","time":"before(2h)","total":null,"use":true,"offset":"-1d"},{"source":"origin","group":"综合数据","header":"数据2","alias":"alias2","metric":"#{metric1}-#{metric2}","unit":"%","decimals":3,"threshold":[[0,90,"#ff0000"],[90,95,"#0000ff"],[99,100,"green"]],"total":null,"use":true},{"source":"column","group":"综合数据","header":"列计算","metric":"#{alias3}+#{alias2}","unit":"","decimals":3,"threshold":[[null,90,"red"],[90,null,"yellow"],[99,100,"green"]],"total":"avg","use":true}]},"link":"http://www.baidu.com"}'},success:!0}})},2143:function(e,t,a){a(52).mock("/mock/dataReport","post",function(){return{data:[{name:"noah_namespace",value:"2.case-basic.service",alias:null,metrics:{alias3:90,alias2:95,alias1:null}},{name:"noah_namespace",value:"1.case-basic.service",alias:null,metrics:{alias3:100,alias2:80,alias1:null}}],success:!0}})},2144:function(e,t,a){a(52).mock("/mock/dataTreeReport","post",function(){return{data:[{name:"plat",value:"bid",alias:null,metrics:{alias1:null,alias2:null,alias3:null},children:[{name:"im_module",value:"adplusserver",alias:null,metrics:{alias1:90,alias2:null,alias3:92},children:[{name:"im_module1",value:"adplusserver1",alias:null,metrics:{alias1:90,alias2:null,alias3:85}},{name:"im_module2",value:"adplusserver2",alias:null,metrics:{alias1:70,alias2:null,alias3:75}}]},{name:"im_module",value:"imbsproxy",alias:null,metrics:{alias1:null,alias2:85,alias3:92}},{name:"im_module",value:"indexserver",alias:null,metrics:{alias1:90,alias2:null,alias3:98}}]}],success:!0}})},2145:function(e,t,a){const i=a(52);i.Random;i.mock("/mock/eventlist","post",function(){return{data:{extra:[{name:"相关人员",key:"operator"}],events:[{name:"BJYZwarning",eventLevel:"warning",eventType:"single",eventList:[{startTime:1503562250,display:{type:"BJYZ1机房异常",product:{operator:["app","app2","app3"]},url:"http://www.noahv.org"},endTime:1503564300},{startTime:1503564390,display:{type:"BJYZ2机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503564510},{startTime:1503562230,display:{type:"BJYZ3机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503562320},{startTime:1503562730,display:{type:"BJYZ4机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503562860},{startTime:1503563700,display:{type:"BJYZ5机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503563790},{startTime:1503564e3,display:{type:"BJYZ6机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503564060}]},{name:"NJ01warning",eventType:"single",eventList:[{startTime:1503563160,display:{type:"NJ01机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503563190},{startTime:1503563040,display:{type:"NJ01机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503563100},{startTime:1503561300,display:{type:"NJ01机房异常",operator:"app",url:"http://www.noahv.org"},endTime:1503561390}]},{name:"NJ01error",display:"NJ01机房异常",eventType:"single",eventList:[{startTime:1503563100,endTime:1503563160}]},{name:"GZNSwarning",display:"GZNS机房异常",eventType:"single",eventList:[{startTime:1503561630,endTime:1503561660}]},{name:"GZHXYerror",display:"GZHXY机房异常",eventType:"single",eventList:[{startTime:1503561630,endTime:1503561660}]}],dataSchema:[{name:"机房1",type:"NJ01error",checked:!0},{name:"机房二",type:"GZHXYerror",checked:!0},{name:"机房三",type:"GZNSwarning",checked:!0},{name:"机房四",type:"BJYZwarning",checked:!0},{name:"机房五",type:"NJ01warning",checked:!0,eventDetailMap:[{name:"创造者",key:"product.operator",type:"arr"},{name:"异常类型",key:"type",type:"text"},{name:"详情",key:"url",type:"link"}]}]},success:!0}})},2146:function(e,t,a){const i=a(52);i.Random;i.mock("/mock/eventRiver","post",function(){return{data:{configure:'{"title":"事件流图1","data":{"schema":[{"name":"机房1","type":"NJ01error","checked":true},{"name":"机房二","type":"GZHXYerror","checked":true},{"name":"机房三","type":"GZNSwarning","checked":true},{"name":"机房四","type":"BJYZwarning","checked":true},{"name":"机房五","type":"NJ01warning","checked":true,"eventDetailMap":[{"name":"创造者","key":"product.operator","type":"arr"},{"name":"异常类型","key":"type","type":"text"},{"name":"详情","key":"url","type":"link"}]}]},"timeType":"fixed","time":"before(2h)"}'},success:!0}})},2207:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(a(2134));t.default={data:function(){return{params:{},confUrl:i.default.billboard.conf,dataUrl:i.default.billboard.data,times:"",billboardPath:"billboardPathName",billboardConf:{title:"面板标题Conf",data:[{namespace:["forDemoNamespace1"],metric:"#{metric1}/#{metric2}",statistics:"avg",name:"name1",unit:"%",decimals:4},{namespace:["forDemoNamespace2"],metric:"#{metric3}",statistics:"avg",name:"name2",unit:"%",decimals:4}],link:"http://www.baidu.com",timeType:"relative",time:"before(2h)"},billboardDisplay:{display:[{name:"title1",value:"88%"}]},billboardDataSource:{title:"多数据源获取面板数据",data:{},datasource:{api:i.default.billboard.data,method:"post"}},highSetting:!1,columns:[{title:"属性",key:"properties"},{title:"说明",key:"comment"},{title:"类型",key:"type"},{title:"默认值",key:"initValue"},{title:"例子",key:"demo"}],tdata:[{properties:"path",comment:"组件path，组件会自行查询配置",type:"string",initValue:"-",demo:"billboardPathName"},{properties:"conf",comment:"组件配置，可以直接根据配置进行渲染",type:"object",initValue:"-",demo:"{}"},{properties:"dataUrl",comment:"获取数据路径，可在visualWidgetConf中统一配置",type:"string",initValue:"-",demo:"/billboardDataUrl/demo.json"},{properties:"params",comment:"组件时间",type:"object",initValue:"-",demo:"{start: 2018-01-15 13:46:00, end: 2018-01-15 15:46:00}"},{properties:"extraParams",comment:"请求所需多余参数",type:"object",initValue:"-",demo:'{category: "noahEE"}'},{properties:"confMethod",comment:"获取conf的请求方式",type:"post | get | put",initValue:"post",demo:"get"}],confData:[{properties:"title",comment:"组件标题",type:"string",initValue:"数据面板",demo:"数据面板"},{properties:"display",comment:"需要展示的子数据列表对象",type:"object",initValue:"-",demo:'[{name: "子标题",value: 0,unit: "%"}]'},{properties:"data",comment:"查询数据所需配置，会透传给后端进行查新",type:"object/array",initValue:"-",demo:"{}"},{properties:"style",comment:"样式配置，下面会详细介绍",type:"object",initValue:"-",demo:"{}"},{properties:"link",comment:"标题链接",type:"string",initValue:"-",demo:"{http://www.baidu.com}"},{properties:"timeType",comment:"时间类型：1）relative 组件时间跟随仪表盘时间变动（2）absolute 组件时间绝对定位 （3）fixed 组件固定时间段，时间段可随仪表盘endtime进行偏移",type:"relative | absolute | fixed",initValue:"relative",demo:"relative"},{properties:"time",comment:"时间配置。可以通过两种形式配置：时间和函数，详情请看time",type:"string",initValue:"before(2h)",demo:"before(2h)"},{properties:"datasource",comment:"数据源配置，包含数据源地址api和请求类型method",type:"object",initValue:"-",demo:'{api: "billboardDataSource", method: "get"}'}],dataDetail:[{properties:"name",comment:"子标题题目",type:"string",initValue:"-",demo:"name1"},{properties:"unit",comment:"单指标数据单位",type:"string",initValue:"%",demo:"W"},{properties:"decimals",comment:"单指标数据保留小数点的位数",type:"number",initValue:"2",demo:"4"},{properties:"params",comment:"多数据源API配置时，请求的额外参数，只有配置多数据源时会带有的参数",type:"object",initValue:"{}",demo:"{extraDataSource: {}}"}],timeData:[{properties:"before",comment:"最近多长时间，如before(1h)表示最近1小时",type:"m:分钟；d：天；h: 小时；M：月；w：周；y：年",initValue:"-",demo:"before(2d)"},{properties:"today",comment:"今天",type:"string",initValue:"today()",demo:"today()"},{properties:"yestoday",comment:"昨天",type:"string",initValue:"yestoday()",demo:"yestoday()"},{properties:"week",comment:"本周",type:"string",initValue:"week()",demo:"week()"},{properties:"month",comment:"本月",type:"string",initValue:"month()",demo:"month()"},{properties:"quarter",comment:"本季",type:"string",initValue:"quarter()",demo:"quarter()"},{properties:"year",comment:"本年",type:"string",initValue:"year()",demo:"year()"}]}},methods:{changeTime:function(){this.params={start:this.times[0],end:this.times[1]}},formatTime:function(e){this.times=e},openHighSetting:function(){this.highSetting=!this.highSetting}}}},2371:function(e,t){},2372:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"demo-holder"},[a("h1",[e._v("概述")]),e._v(" "),a("p",[e._v("可视化组件中的数据面板组件，主要功能为展示某指标在一段时间内的统计值。")]),e._v(" "),a("h1",[e._v("组件实例")]),e._v(" "),a("Date-picker",{staticStyle:{width:"300px"},attrs:{confirm:"",value:e.times,type:"datetimerange",placeholder:"选择日期"},on:{"on-change":e.formatTime,"on-ok":e.changeTime}}),e._v(" "),a("div",{staticClass:"common-box"},[a("NvMDBillboard",{attrs:{dataUrl:e.dataUrl,params:e.params,conf:e.billboardConf}})],1),e._v(" "),a("h1",[e._v("demo")]),e._v(" "),a("p",[e._v("组件调用")]),e._v(" "),e._m(0),e._v(" "),a("p",[e._v("数据配置:配置path获取数据")]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"common-box"},[a("NvMDBillboard",{attrs:{path:e.billboardPath,url:e.confUrl,dataUrl:e.dataUrl,params:e.params}})],1),e._v(" "),a("p",[e._v("数据配置:配置conf,再通过dataUrl获取数据")]),e._v(" "),e._m(2),e._v(" "),a("div",{staticClass:"common-box"},[a("NvMDBillboard",{attrs:{conf:e.billboardConf,dataUrl:e.dataUrl,params:e.params}})],1),e._v(" "),a("p",[e._v("无配置调用")]),e._v(" "),e._m(3),e._v(" "),a("p",[e._v("配置数据展示")]),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),a("div",{staticClass:"common-box"},[a("NvMDBillboard",{attrs:{conf:e.billboardDisplay,params:e.params}})],1),e._v(" "),a("p",[e._v("多数据源配置方式")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),a("div",{staticClass:"common-box"},[a("NvMDBillboard",{attrs:{conf:e.billboardDataSource,params:e.params}})],1),e._v(" "),a("h1",[e._v("API")]),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.tdata}}),e._v(" "),a("i-button",{staticClass:"higher-btn",attrs:{type:"primary"},on:{click:function(t){return e.openHighSetting()}}},[e._v("高级功能")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.highSetting,expression:"highSetting"}]},[a("h1",[e._v("conf配置说明")]),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.confData}}),e._v(" "),a("h1",[e._v("data数据详细说明")]),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.dataDetail}}),e._v(" "),a("h1",[e._v("time说明")]),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.timeData}}),e._v(" "),a("h1",[e._v("获取的配置文件数据格式")]),e._v(" "),a("p",[e._v('需要将conf转译为字符串作为"configure"的值，格式如下：')]),e._v(" "),e._m(8)],1)],1)},n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('<NvMDBillboard :path="billboardPath" :url="url" :dataUrl="dataUrl" :params="params" />')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v("            export default {\n                data() {\n                    return {\n                        params: {\n                            start: '2018-01-30 17:26:00',\n                            end: '2018-01-30 18:26:00'\n                        },\n                        url: '/mock/billboard',\n                        dataUrl: '/mock/dataBillboard',\n                        billboardPath: 'billboardPathName'\n                    };\n                }\n            }\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('            export default {\n                data() {\n                    return {\n                        billboardConf: {\n                            "title": "面板标题Conf",\n                            "data": [{\n                                "namespace": [\n                                    "forDemoNamespace1"\n                                ],\n                                 "metric": "#{metric1}/#{metric2}",\n                                "statistics": "avg",\n                                "name": "name1",\n                                "unit": "%",\n                                "decimals": 4\n                            },\n                            {\n                                "namespace": [\n                                    "forDemoNamespace2"\n                                ],\n                                "metric": "#{metric3}",\n                                "statistics": "avg",\n                                "name": "name2",\n                                "unit": "%",\n                                "decimals": 4\n                            }],\n                            "link": "http://www.baidu.com",\n                            "timeType": "relative",\n                            "time": "before(2h)"\n                        },\n                        dataUrl: \'/mock/dataBillboard\',\n                        params: {\n                            start: \'2018-01-30 17:26:00\',\n                            end: \'2018-01-30 18:26:00\'\n                        }\n                    };\n                }\n            }\n            ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('<NvMDBillboard :params="params"/>')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('<NvMDBillboard :conf="billboardDisplay"/>')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v("            export default {\n                data() {\n                    return {\n                        billboardDisplay: {\n                            display: [{\n                                name: 'title1',\n                                value: '88%'\n                            }]\n                        }\n                    };\n                }\n            }\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('<NvMDBillboard :conf="billboardDataSource" :params="params"/>')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('            export default {\n                data() {\n                    return {\n                        billboardDataSource: {\n                            "title": "多数据源获取面板数据",\n                            "data": {},\n                            // 多数据源配置\n                            "datasource": {\n                                "api": \'/mock/dataBillboard\',\n                                "method": \'post\'\n                            }\n                        }\n                    };\n                }\n            }\n            ')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code"},[t("pre",[this._v('{\n    configure : \'{"title":"面板配置path","data":[{"namespace":["forDemoNamespace1"],"metric":"#{metric1}/#{metric2}","statistics":"avg","name":"name3","unit":"%","decimals":4},{"namespace":["forDemoNamespace2"],"metric":"#{metric3}","statistics":"avg","name":"name4","unit":"%","decimals":4}],"link":"http://www.baidu.com","timeType":"relative","time":"before(2h)"}\',\n    title: "面板配置path"\n}\n                ')])])}]}});